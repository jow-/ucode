<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link type="text/css" rel="stylesheet" href="ucode.css"><title>Module: uloop</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol><symbol id="toc-icon" viewBox="0 0 460 460"><path d="M40 70a40 40 0 1 0 0 80 40 40 0 0 0 0-80zM40 190a40 40 0 1 0 0 80 40 40 0 0 0 0-80zM40 310a40 40 0 1 0 0 80 40 40 0 0 0 0-80zM430 80H145a30 30 0 0 0 0 60h285a30 30 0 0 0 0-60zM430 200H145a30 30 0 0 0 0 60h285a30 30 0 0 0 0-60zM430 320H145a30 30 0 0 0 0 60h285a30 30 0 0 0 0-60z"/></symbol></defs></svg></head><body data-theme="light"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">ucode Documentation</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="kvRTuADqGqOFVjw6-aU9O"><div>Tutorials</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="tutorial-01-usage.html">Usage</a></div><div class="sidebar-section-children"><a href="tutorial-02-syntax.html">Syntax</a></div><div class="sidebar-section-children"><a href="tutorial-03-memory.html">Memory Management</a></div><div class="sidebar-section-children"><a href="tutorial-04-arrays.html">Working with Arrays</a></div><div class="sidebar-section-children"><a href="tutorial-05-dictionaries.html">Working with Dictionaries</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="2uAAPBFxPip4firIdMODI"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-core.html">core</a></div><div class="sidebar-section-children"><a href="module-debug.html">debug</a></div><div class="sidebar-section-children"><a href="module-digest.html">digest</a></div><div class="sidebar-section-children"><a href="module-fs.html">fs</a></div><div class="sidebar-section-children"><a href="module-log.html">log</a></div><div class="sidebar-section-children"><a href="module-math.html">math</a></div><div class="sidebar-section-children"><a href="module-socket.html">socket</a></div><div class="sidebar-section-children"><a href="module-struct.html">struct</a></div><div class="sidebar-section-children"><a href="module-uci.html">uci</a></div><div class="sidebar-section-children"><a href="module-uloop.html">uloop</a></div><div class="sidebar-section-children"><a href="module-zlib.html">zlib</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="github-home navbar-item"><a id="" href="https://github.com/jow-/ucode" target="">GitHub Project Page</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div><div class="navbar-right-item toc-item"><button class="icon-button toc" aria-label="open-table-of-contents"><svg><use xlink:href="#toc-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header></header><article><div class="container-overview"><div class="description"><h1 id="openwrt-uloop-event-loop">OpenWrt uloop event loop</h1><p>The <code>uloop</code> binding provides functions for integrating with the OpenWrt <a href="https://github.com/openwrt/libubox/blob/master/uloop.h">uloop library</a>.</p><p>Functions can be individually imported and directly accessed using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#named_import">named import</a> syntax:</p><pre class="prettyprint source lang-javascript"><code>import { init, handle, timer, interval, process, signal, task, run } from 'uloop';

init();

handle(…);
timer(…);
interval(…);
process(…);
signal(…);
task(…);

run();
</code></pre><p>Alternatively, the module namespace can be imported using a wildcard import statement:</p><pre class="prettyprint source lang-javascript"><code>import * as uloop from 'uloop';

uloop.init();

uloop.handle(…);
uloop.timer(…);
uloop.interval(…);
uloop.process(…);
uloop.signal(…);
uloop.task(…);

uloop.run();
</code></pre><p>Additionally, the uloop binding namespace may also be imported by invoking the <code>ucode</code> interpreter with the <code>-luloop</code> switch.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line17">line 17</a></li></ul></dd></div></dl></div><h2 id="classes" class="subsection-title has-anchor">Classes</h2><h3 id="module:uloop.handle" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.handle.html">handle</a></h3><p>Represents a uloop handle instance as returned by <a href="module-uloop.html#handle">handle()</a>.</p><h3 id="module:uloop.interval" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.interval.html">interval</a></h3><p>Represents a uloop interval timer instance as returned by <a href="module-uloop.html#interval">interval()</a>.</p><h3 id="module:uloop.pipe" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.pipe.html">pipe</a></h3><p>Represents a uloop task communication pipe instance, passed as sole argument to the task function by <a href="module-uloop.html#task">task()</a>.</p><h3 id="module:uloop.process" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.process.html">process</a></h3><p>Represents a uloop process instance as returned by <a href="module-uloop.html#process">process()</a>.</p><h3 id="module:uloop.signal" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.signal.html">signal</a></h3><p>Represents a uloop signal Unix process signal handler as returned by <a href="module-uloop.html#signal">signal()</a>.</p><h3 id="module:uloop.task" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.task.html">task</a></h3><p>Represents a uloop task instance as returned by <a href="module-uloop.html#task">task()</a>.</p><h3 id="module:uloop.timer" class="name"><span class="ancestors">uloop.</span><a href="module-uloop.timer.html">timer</a></h3><p>Represents a uloop timer instance as returned by <a href="module-uloop.html#timer">timer()</a>.</p><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="cancelling"><span class="type-signature"></span>cancelling<span class="signature">()</span> <span class="type-signature">&rarr; {boolean}</span></h3><div class="description"><p>Checks if the uloop event loop is currently shutting down.</p><p>This function checks whether the uloop event loop is currently in the process of shutting down.</p></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">boolean</span><p>Returns <code>true</code> if uloop is currently shutting down, <code>false</code> otherwise.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Check if the uloop event loop is shutting down
const shuttingDown = uloop.cancelling();
if (shuttingDown)
    printf("uloop event loop is currently shutting down\n");
else
    printf("uloop event loop is not shutting down\n");</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line262">line 262</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="done"><span class="type-signature"></span>done<span class="signature">()</span> <span class="type-signature">&rarr; {void}</span></h3><div class="description"><p>Stops the uloop event loop and cancels pending timeouts and events.</p><p>This function immediately stops the uloop event loop, cancels all pending timeouts and events, unregisters all handles, and deallocates associated resources.</p></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">void</span><p>This function does not return any value.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Stop the uloop event loop and clean up resources
uloop.done();</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line345">line 345</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="end"><span class="type-signature"></span>end<span class="signature">()</span> <span class="type-signature">&rarr; {void}</span></h3><div class="description"><p>Halts the uloop event loop.</p><p>This function halts the uloop event loop, stopping its execution and preventing further processing of scheduled events and callbacks.</p><p>Expired timeouts and already queued event callbacks are still run to completion.</p></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">void</span><p>This function does not return any value.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Halt the uloop event loop
uloop.end();</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line319">line 319</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="error"><span class="type-signature"></span>error<span class="signature">()</span> <span class="type-signature">&rarr; {string}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Retrieves the last error message.</p><p>This function retrieves the last error message generated by the uloop event loop. If no error occurred, it returns <code>null</code>.</p></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">string</span><p>Returns the last error message as a string, or <code>null</code> if no error occurred.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Retrieve the last error message
const errorMessage = uloop.error();

if (errorMessage)
    printf(`Error message: ${errorMessage}\n`);
else
    printf("No error occurred\n");</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line144">line 144</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="handle"><span class="type-signature"></span>handle<span class="signature">(handle, callback, events)</span> <span class="type-signature">&rarr; {<a href="module-uloop.handle.html">handle</a>}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Creates a handle instance for monitoring file descriptor events.</p><p>This function creates a handle instance for monitoring events on a file descriptor, file, or socket. It takes the file or socket handle, a callback function to be invoked when the specified IO events occur, and bitwise OR-ed flags of IO events (<code>ULOOP_READ</code>, <code>ULOOP_WRITE</code>) that the callback should be invoked for.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>handle</code></td><td class="type"><span class="type-signature">number&#8239;|&#8239;<wbr><a href="module-fs.file.html">module:fs.file</a>&#8239;|&#8239;<wbr><a href="module-fs.proc.html">module:fs.proc</a>&#8239;|&#8239;<wbr><a href="module-socket.socket.html">module:socket.socket</a></span></td><td class="description last"><p>The file handle (descriptor number, file or socket instance).</p></td></tr><tr><td class="name"><code>callback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><p>The callback function to be invoked when the specified IO events occur.</p></td></tr><tr><td class="name"><code>events</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><p>Bitwise OR-ed flags of IO events (<code>ULOOP_READ</code>, <code>ULOOP_WRITE</code>) that the callback should be invoked for.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature"><a href="module-uloop.handle.html">handle</a></span><p>Returns a handle instance for monitoring file descriptor events. Returns <code>null</code> when the handle, callback or signal arguments are invalid.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Create a handle for monitoring read events on file descriptor 3
const myHandle = uloop.handle(3, (events) => {
    if (events &amp; ULOOP_READ)
        printf("Read event occurred!\n");
}, uloop.ULOOP_READ);

// Check socket for writability
const sock = socket.connect("example.org", 80);
uloop.handle(sock, (events) => {
    sock.send("GET / HTTP/1.0\r\n\r\n");
}, uloop.ULOOP_WRITE)</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line768">line 768</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="init"><span class="type-signature"></span>init<span class="signature">()</span> <span class="type-signature">&rarr; {boolean}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Initializes the uloop event loop.</p><p>This function initializes the uloop event loop, allowing subsequent usage of uloop functionalities. It takes no arguments.</p><p>Returns <code>true</code> on success. Returns <code>null</code> if an error occurred during initialization.</p></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">boolean</span><p>Returns <code>true</code> on success, <code>null</code> on error.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Initialize the uloop event loop
const success = uloop.init();

if (success)
    printf("uloop event loop initialized successfully\n");
else
    die(`Initialization failure: ${uloop.error()}\n`);</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line178">line 178</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="interval"><span class="type-signature"></span>interval<span class="signature">(timeout<span class="signature-attributes">opt</span>, callback)</span> <span class="type-signature">&rarr; {<a href="module-uloop.interval.html">interval</a>}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Creates an interval instance for scheduling repeated callbacks.</p><p>This function creates an interval instance for scheduling repeated callbacks to be executed at regular intervals. It takes an optional timeout parameter, which defaults to -1, indicating that the interval is initially not armed and can be armed later with the <code>.set(timeout)</code> method. A callback function must be provided to be executed when the interval expires.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>timeout</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><span class="inline-attributes">(optional, default: <code>-1</code>)</span><p>Optional. The interval duration in milliseconds. Defaults to -1, indicating the interval is not initially armed.</p></td></tr><tr><td class="name"><code>callback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><p>The callback function to be executed when the interval expires.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature"><a href="module-uloop.interval.html">interval</a></span><p>Returns an interval instance for scheduling repeated callbacks. Returns <code>null</code> when the timeout or callback arguments are invalid.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Create an interval with a callback to be executed every 1000 milliseconds
const myInterval = uloop.interval(1000, () => {
    printf("Interval callback executed!\n");
});

// Later arm the interval to start executing the callback every 500 milliseconds
myInterval.set(500);</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line1975">line 1975</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="process"><span class="type-signature"></span>process<span class="signature">(executable, args<span class="signature-attributes">opt</span>, env<span class="signature-attributes">opt</span>, callback)</span> <span class="type-signature">&rarr; {<a href="module-uloop.process.html">process</a>}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Creates a process instance for executing external programs.</p><p>This function creates a process instance for executing external programs. It takes the executable path string, an optional string array as the argument vector, an optional dictionary describing environment variables, and a callback function to be invoked when the invoked process ends.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>executable</code></td><td class="type"><span class="type-signature">string</span></td><td class="description last"><p>The path to the executable program.</p></td></tr><tr><td class="name"><code>args</code></td><td class="type"><span class="type-signature">string[]</span></td><td class="description last"><span class="inline-attributes">(optional)</span><p>Optional. An array of strings representing the arguments passed to the executable.</p></td></tr><tr><td class="name"><code>env</code></td><td class="type"><span class="type-signature">Object&lt;string: *></span></td><td class="description last"><span class="inline-attributes">(optional)</span><p>Optional. A dictionary describing environment variables for the process.</p></td></tr><tr><td class="name"><code>callback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><p>The callback function to be invoked when the invoked process ends.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature"><a href="module-uloop.process.html">process</a></span><p>Returns a process instance for executing external programs. Returns <code>null</code> on error, e.g. due to <code>exec()</code> failure or invalid arguments.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Create a process instance for executing 'ls' command
const myProcess = uloop.process("/bin/ls", ["-l", "/tmp"], null, (code) => {
    printf(`Process exited with code ${code}\n`);
});</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line959">line 959</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="run"><span class="type-signature"></span>run<span class="signature">(timeout<span class="signature-attributes">opt</span>)</span> <span class="type-signature">&rarr; {boolean}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Runs the uloop event loop.</p><p>This function starts running the uloop event loop, allowing it to handle scheduled events and callbacks. If a timeout value is provided and is non-negative, the event loop will run for that amount of milliseconds before returning. If the timeout is omitted or negative, the event loop runs indefinitely until explicitly stopped.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>timeout</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><span class="inline-attributes">(optional, default: <code>-1</code>)</span><p>Optional. The timeout value in milliseconds for running the event loop. Defaults to -1, indicating an indefinite run.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">boolean</span><p>Returns <code>true</code> on success, <code>null</code> on error.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Run the uloop event loop indefinitely
const success = uloop.run();
if (success)
    printf("uloop event loop ran successfully\n");
else
    die(`Error occurred during uloop execution: ${uloop.error()}\n`);

// Run the uloop event loop for 1000 milliseconds
const success = uloop.run(1000);
if (success)
    printf("uloop event loop ran successfully\n");
else
    die(`Error occurred during uloop execution: ${uloop.error()}\n`);</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line212">line 212</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="running"><span class="type-signature"></span>running<span class="signature">()</span> <span class="type-signature">&rarr; {boolean}</span></h3><div class="description"><p>Checks if the uloop event loop is currently running.</p><p>This function checks whether the uloop event loop is currently started and running.</p></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature">boolean</span><p>Returns <code>true</code> if the event loop is currently running, <code>false</code> otherwise.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Check if the uloop event loop is running
const isRunning = uloop.running();
if (isRunning)
    printf("uloop event loop is currently running\n");
else
    printf("uloop event loop is not running\n");</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line287">line 287</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="signal"><span class="type-signature"></span>signal<span class="signature">(signal, callback)</span> <span class="type-signature">&rarr; {<a href="module-uloop.signal.html">signal</a>}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Creates a signal instance for handling Unix signals.</p><p>This function creates a signal instance for handling Unix signals. It takes the signal name string (with or without &quot;SIG&quot; prefix) or signal number, and a callback function to be invoked when the specified Unix signal is caught.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>signal</code></td><td class="type"><span class="type-signature">string&#8239;|&#8239;<wbr>number</span></td><td class="description last"><p>The signal name string (with or without &quot;SIG&quot; prefix) or signal number.</p></td></tr><tr><td class="name"><code>callback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><p>The callback function to be invoked when the specified Unix signal is caught.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature"><a href="module-uloop.signal.html">signal</a></span><p>Returns a signal instance representing the installed signal handler. Returns <code>null</code> when the signal or callback arguments are invalid.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Create a signal instance for handling SIGINT
const mySignal = uloop.signal("SIGINT", () => {
    printf("SIGINT caught!\n");
});</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line2172">line 2172</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="task"><span class="type-signature"></span>task<span class="signature">(taskFunction, outputCallback<span class="signature-attributes">opt</span>, inputCallback<span class="signature-attributes">opt</span>)</span> <span class="type-signature">&rarr; {<a href="module-uloop.task.html">task</a>}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Creates a task instance for executing background tasks.</p><p>This function creates a task instance for executing background tasks. It takes the task function to be invoked as a background process, an optional output callback function to be invoked when output is received from the task, and an optional input callback function to be invoked when input is required by the task.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>taskFunction</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><p>The task function to be invoked as a background process.</p></td></tr><tr><td class="name"><code>outputCallback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><span class="inline-attributes">(optional)</span><p>Optional. The output callback function to be invoked when output is received from the task. It is invoked with the output data as the argument.</p></td></tr><tr><td class="name"><code>inputCallback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><span class="inline-attributes">(optional)</span><p>Optional. The input callback function to be invoked when input is required by the task. It is invoked with a function to send input to the task as the argument.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature"><a href="module-uloop.task.html">task</a></span><p>Returns a task instance for executing background tasks. Returns <code>null</code> on error, e.g. due to fork failure or invalid arguments.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Create a task instance for executing a background task
const myTask = uloop.task(
    (pipe) => {
        // Task logic
        pipe.send("Hello from the task\n");
        const input = pipe.receive();
        printf(`Received input from main thread: ${input}\n`);
    },
    (output) => {
        // Output callback, invoked when task function calls pipe.send()
        printf(`Received output from task: ${output}\n`);
    },
    () => {
        // Input callback, invoked when task function calls pipe.receive()
        return "Input from main thread\n";
    }
);</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line1636">line 1636</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="timer"><span class="type-signature"></span>timer<span class="signature">(timeout<span class="signature-attributes">opt</span>, callback)</span> <span class="type-signature">&rarr; {<a href="module-uloop.timer.html">timer</a>}<span class="signature-attributes">nullable</span></span></h3><div class="description"><p>Creates a timer instance for scheduling callbacks.</p><p>This function creates a timer instance for scheduling callbacks to be executed after a specified timeout duration. It takes an optional timeout parameter, which defaults to -1, indicating that the timer is initially not armed and can be enabled later by invoking the <code>.set(timeout)</code> method on the instance.</p><p>A callback function must be provided to be executed when the timer expires.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>timeout</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><span class="inline-attributes">(optional, default: <code>-1</code>)</span><p>Optional. The timeout duration in milliseconds. Defaults to -1, indicating the timer is not initially armed.</p></td></tr><tr><td class="name"><code>callback</code></td><td class="type"><span class="type-signature">function</span></td><td class="description last"><p>The callback function to be executed when the timer expires.</p></td></tr></tbody></table></div><div class="method-member-container mt-20"><strong>Returns:</strong> <span class="type-signature"><a href="module-uloop.timer.html">timer</a></span><p>Returns a timer instance for scheduling callbacks. Returns <code>null</code> when the timeout or callback arguments are invalid.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Create a timer with a callback to be executed after 1000 milliseconds
const myTimer = uloop.timer(1000, () => {
    printf("Timer expired!\n");
});

// Later enable the timer with a timeout of 500 milliseconds
myTimer.set(500);</code></pre></div></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line524">line 524</a></li></ul></dd></div></dl><h2 id="type-definitions" class="subsection-title has-anchor">Type Definitions</h2><h3 class="name has-anchor" id="~EventModeConstants"><span class="type-signature"></span>Event Mode Constants<span class="type-signature"></span></h3><div class="description"><p>The <code>ULOOP_*</code> constants are passed as bitwise OR-ed number to the <a href="module-uloop.handle.html#handle">handle()</a> function to specify the IO events that should be monitored on the given handle.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th class="type">Type</th><th class="description last">Description</th></tr></thead><tbody><tr><td class="name"><code>ULOOP_READ</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><p>File or socket is readable.</p></td></tr><tr><td class="name"><code>ULOOP_WRITE</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><p>File or socket is writable.</p></td></tr><tr><td class="name"><code>ULOOP_EDGE_TRIGGER</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><p>Enable edge-triggered event mode.</p></td></tr><tr><td class="name"><code>ULOOP_BLOCKING</code></td><td class="type"><span class="type-signature">number</span></td><td class="description last"><p>Do not make descriptor non-blocking.</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="lib_uloop.c.html">lib/uloop.c</a>, <a href="lib_uloop.c.html#line2403">line 2403</a></li></ul></dd></div></dl></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button> <button class="icon-button" id="mobile-toc" data-isopen="false" aria-label="toc"><svg><use xlink:href="#toc-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">ucode Documentation</a><div class="mobile-nav-links"><div class="github-home navbar-item"><a id="" href="https://github.com/jow-/ucode" target="">GitHub Project Page</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="kvRTuADqGqOFVjw6-aU9O"><div>Tutorials</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="tutorial-01-usage.html">Usage</a></div><div class="sidebar-section-children"><a href="tutorial-02-syntax.html">Syntax</a></div><div class="sidebar-section-children"><a href="tutorial-03-memory.html">Memory Management</a></div><div class="sidebar-section-children"><a href="tutorial-04-arrays.html">Working with Arrays</a></div><div class="sidebar-section-children"><a href="tutorial-05-dictionaries.html">Working with Dictionaries</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="2uAAPBFxPip4firIdMODI"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-core.html">core</a></div><div class="sidebar-section-children"><a href="module-debug.html">debug</a></div><div class="sidebar-section-children"><a href="module-digest.html">digest</a></div><div class="sidebar-section-children"><a href="module-fs.html">fs</a></div><div class="sidebar-section-children"><a href="module-log.html">log</a></div><div class="sidebar-section-children"><a href="module-math.html">math</a></div><div class="sidebar-section-children"><a href="module-socket.html">socket</a></div><div class="sidebar-section-children"><a href="module-struct.html">struct</a></div><div class="sidebar-section-children"><a href="module-uci.html">uci</a></div><div class="sidebar-section-children"><a href="module-uloop.html">uloop</a></div><div class="sidebar-section-children"><a href="module-zlib.html">zlib</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div><div class="navbar-right-item toc-item"><button class="icon-button toc" aria-label="open-table-of-contents"><svg><use xlink:href="#toc-icon"></use></svg></button></div></div></div></div><div id="mobile-tocbar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><span class="sidebar-title">Table of Contents</span><div class="toc-contents"></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#mobile-tocbar > .mobile-sidebar-wrapper > .toc-contents",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:(...e)=>{hideMobileMenu(),bringLinkToView(...e)},includeHtml:!0})</script></body></html>